<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button>click</button>
  </body>
</html>
<script>
  // console.log('start')

  // setTimeout(() => {
  //   console.log('setTimeout')
  // })

  // Promise.resolve().then(() => {
  //   console.log('resolve')
  // })

  // console.log('end')

  //     const timer1 = setTimeout(() => {
  //   console.log('timer1');

  //   const promise1 = Promise.resolve().then(() => {
  //     console.log('promise1')
  //   })
  // },1000)

  // const timer2 = setTimeout(() => {
  //   console.log('timer2')
  // },1000)

  // const mpromise = new Promise((resolve, reject )=>{
  //     reject(Error("error occured"));
  // })
  // mpromise.catch(error=>console.log(error.message))
  // mpromise.catch(error=>console.log(error.message))

  //How can I write a sleep function using a promise?

  // setTimeout(()=>{

  // },900000)

  // function sleep(timeout) {
  //     return new Promise((resolve, reject) => {
  //       setTimeout(() => {
  //         resolve("Sleep Method is being ");
  //       }, timeout);
  //     });
  //   }

  //   sleep(15000)
  //     .then((data) => console.log(data))
  //     .catch((err) => console.log(err));

  //     //2n way

  //     function sleepV2(ms) {
  //     return new Promise(res => {
  //         setTimeout(res, ms);
  //     });
  // }
  // sleepV2(5000).then((data) => console.log("data"));

  // const sleepV3 = (time) => {
  //   return new Promise((resolve, reject) => {
  //     setTimeout(() => {
  //       resolve("so gaya");
  //     }, time);
  //   });
  // };
  // sleepV3(5000).then((data) => console.log(data));

  // async function main() {
  //   await new Promise((resolve) => {
  //     setTimeout(() => {
  //       console.log("hello");
  //       resolve("okk");
  //     }, 1000);
  //   });
  //   console.log("world");
  // }
  // main();

  // event loop

  function listener1() {
    setTimeout(() => console.log("#1 Hello from timeout 1"), 0); //6
    Promise.resolve().then(() => console.log("#1 Hello from promise 1")); //3
    const promise = Promise.resolve();
    setTimeout(() => console.log("#1 Hello from timeout 2"), 0); //7
    console.log("#1 Hello from main thread"); //1
    setTimeout(
      () => promise.then(() => console.log("#1 Hello from promise 2Â°"), 0) //8
    );
    return console.log("first end"); //2
  }

  function listener2() {
    setTimeout(() => console.log("#2 Hello from timeout 1"), 0); //9
    Promise.resolve().then(() => console.log("#2 Hello from promise 1 ")); //5
    const promise = Promise.resolve();
    setTimeout(() => console.log("#2 Hello from timeout 2 "), 0); //10
    console.log("#2 Hello from main thread "); //4
    setTimeout(
      () => promise.then(() => console.log("#2 Hello from promise 2")), //11
      0
    );
  }

  document.addEventListener("click", listener1);
  document.addEventListener("click", listener2);
</script>
